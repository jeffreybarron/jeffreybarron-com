<html>

  <body><div id="__next"><div class="__variable_72222f __variable_1be762"><main class="font-bodyText bg-primary text-primary-contrast w-screen flex-1 snap-y snap-mandatory scroll-pt-0 overflow-y-scroll"><nav class="from-primary to-secondary sticky top-0 z-0 flex w-full snap-start items-center justify-center bg-gradient-to-r box-decoration-clone p-4 align-middle"><div class="text-primary-contrast w-full items-center justify-around capitalize sm:flex sm:gap-1 sm:text-lg"><a class="border-primary-contrast border-b border-dotted" href="/"><div class="hover:text-tertiary flex items-center justify-center p-1  hover:-rotate-6">home</div></a><a class="border-primary-contrast border-b border-dotted" href="/blog"><div class="hover:text-tertiary flex items-center justify-center p-1 hover:-rotate-6">blog</div></a><a class="border-primary-contrast border-b border-dotted" href="/experience"><div class="hover:text-tertiary flex items-center justify-center p-1 hover:-rotate-6">experience</div></a><a class="border-primary-contrast border-b border-dotted" href="/release"><div class="hover:text-tertiary flex items-center justify-center p-1 hover:-rotate-6">release</div></a><a class="border-primary-contrast border-b border-dotted" href="/contact"><div class="hover:text-tertiary flex items-center justify-center p-1 hover:-rotate-6">contact</div></a></div></nav><section class="flex flex-1 grid-flow-col grid-cols-12 sm:grid"><div class="col-span-2 p-2"></div><div class="bg-primary col-span-8 flex min-h-[calc(100vh-135px)] flex-1 flex-col break-words p-6"><h1 id="install-postgresql-on-ubuntu"><a class="anchor" href="#install-postgresql-on-ubuntu">Install PostgreSQL on ubuntu</a></h1>
    <p><a href="https://blog.logrocket.com/setting-up-a-remote-postgres-database-server-on-ubuntu-18-04/">https://blog.logrocket.com/setting-up-a-remote-postgres-database-server-on-ubuntu-18-04/</a></p>
    <div data-rehype-pretty-code-fragment=""><pre data-language="shell" data-theme="default"><code data-language="shell" data-theme="default"><span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">shell</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-c</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(236, 239, 244);">'</span><span style="color: rgb(163, 190, 140);">echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" &gt; /etc/apt/sources.list.d/pgdg.list</span><span style="color: rgb(236, 239, 244);">'</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">wget </span><span style="color: rgb(163, 190, 140);">--quiet</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-O</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">https://www.postgresql.org/media/keys/ACCC4CF8.asc</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(129, 161, 193);">|</span><span style="color: rgb(216, 222, 233);"> sudo </span><span style="color: rgb(163, 190, 140);">apt-key</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">add</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">apt-get</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">update</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-y</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">apt-get</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-y</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">install</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgresql</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgresql-client</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgresql-contrib</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">apt</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">show</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgresql</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">systemctl</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">status</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgresql.service</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">passwd</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgres</span></span>
      <span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">su</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">-l</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgres</span></span></code></pre></div>
      <p>References</p>
      <ul>
        <li><a href="https://blog.logrocket.com/setting-up-a-remote-postgres-database-server-on-ubuntu-18-04/">https://blog.logrocket.com/setting-up-a-remote-postgres-database-server-on-ubuntu-18-04/</a></li>
        <li></li>
      </ul>
      <h1 id="manage-postgresql-from-the-cli"><a class="anchor" href="#manage-postgresql-from-the-cli">Manage PostgreSQL from the cli</a></h1>
      <p><a href="https://www.a2hosting.com/kb/developer-corner/postgresql/managing-postgresql-databases-and-users-from-the-command-line">https://www.a2hosting.com/kb/developer-corner/postgresql/managing-postgresql-databases-and-users-from-the-command-line</a></p>
      <p>TL;DR; version</p>
      <div data-rehype-pretty-code-fragment=""><pre data-language="shell" data-theme="default"><code data-language="shell" data-theme="default"><span class="line"><span style="color: rgb(216, 222, 233);">sudo </span><span style="color: rgb(163, 190, 140);">-u</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">postgres</span><span style="color: rgb(216, 222, 233);"> </span><span style="color: rgb(163, 190, 140);">psql</span></span>
        <span class="line"><span style="color: rgb(216, 222, 233);">postgres</span><span style="color: rgb(129, 161, 193);">=</span><span style="color: rgb(163, 190, 140);">#</span><span style="color: rgb(216, 222, 233);"> create database mydb</span><span style="color: rgb(129, 161, 193);">;</span></span>
        <span class="line"><span style="color: rgb(216, 222, 233);">postgres</span><span style="color: rgb(129, 161, 193);">=</span><span style="color: rgb(163, 190, 140);">#</span><span style="color: rgb(216, 222, 233);"> create user myuser with encrypted password </span><span style="color: rgb(236, 239, 244);">'</span><span style="color: rgb(163, 190, 140);">mypass</span><span style="color: rgb(236, 239, 244);">'</span><span style="color: rgb(129, 161, 193);">;</span></span>
        <span class="line"><span style="color: rgb(216, 222, 233);">postgres</span><span style="color: rgb(129, 161, 193);">=</span><span style="color: rgb(163, 190, 140);">#</span><span style="color: rgb(216, 222, 233);"> grant all privileges on database mydb to myuser</span><span style="color: rgb(129, 161, 193);">;</span></span></code></pre></div>
        <p>One nice thing about PGSQL is it comes with some utility binaries like&nbsp;<strong>createuser</strong>&nbsp;and&nbsp;<strong>createdb.</strong>&nbsp;So we will be making use of that.</p>
        <p>As the default configuration of Postgres is, a user called&nbsp;<strong><em>postgres</em></strong>&nbsp;is made on and the user&nbsp;<strong><em>postgres</em></strong>&nbsp;has full superadmin access to entire PostgreSQL instance running on your OS.</p>
        <p><code>$ sudo -u postgres psql</code></p>
        <p>The above command gets you the psql command line interface in full admin mode.</p>
        <p>In the following commands, keep in mind the &lt; angular brackets &gt; are to denote variables you have to set yourself. In the actual command, omit the <code>&lt;&gt;</code></p>
        <h2 id="creating-user"><a class="anchor" href="#creating-user">Creating user</a></h2>
        <p><code>$ sudo -u postgres createuser &lt;username&gt;</code></p>
        <h2 id="creating-database"><a class="anchor" href="#creating-database">Creating Database</a></h2>
        <p><code>$ sudo -u postgres createdb &lt;dbname&gt;</code></p>
        <h2 id="giving-the-user-a-password"><a class="anchor" href="#giving-the-user-a-password">Giving the user a password</a></h2>
        <pre><code>$ sudo -u postgres psql
          psql=# alter user &lt;username&gt; with encrypted password '&lt;password&gt;';
        </code></pre>
        <h2 id="granting-privileges-on-database"><a class="anchor" href="#granting-privileges-on-database">Granting privileges on database</a></h2>
        <p><code>psql=# grant all privileges on database &lt;dbname&gt; to &lt;username&gt; ;</code></p>
        <p>And yeah, that should be pretty much it !</p>
        <h1 id="doing-purely-via-psql"><a class="anchor" href="#doing-purely-via-psql">Doing purely via psql</a></h1>
        <p>Your OS might not have the&nbsp;<code>createuser</code>&nbsp;or&nbsp;<code>createdb</code>&nbsp;binaries, or you may, for some reason want to do it purely via psql, then these are the three magic commands —</p>
        <div data-rehype-pretty-code-fragment=""><pre data-language="SQL" data-theme="default"><code data-language="SQL" data-theme="default"><span class="line"><span style="color: rgb(216, 222, 233);">CREATE DATABASE yourdbname;</span></span>
          <span class="line"><span style="color: rgb(216, 222, 233);">CREATE USER youruser WITH ENCRYPTED PASSWORD 'yourpass';</span></span>
          <span class="line"><span style="color: rgb(216, 222, 233);">GRANT ALL PRIVILEGES ON DATABASE yourdbname TO youruser;</span></span></code></pre></div></div><div class="col-span-2 p-2 "></div></section></main><footer class="from-primary to-secondary flex h-10 w-full justify-evenly bg-gradient-to-r box-decoration-clone"><div class="flex w-full items-center justify-end p-2 text-sm"><span class="text-tertiary">© 2023 Jeffrey Barron. All Rights Reserved</span><span class="ml-2"><a href="https://github.com/jeffreybarron"><img alt="Link to https://github.com/jeffreybarron" aria-label="github Logo" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fgithub-mark-white.5a209dae.png&amp;w=32&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fgithub-mark-white.5a209dae.png&amp;w=48&amp;q=75 2x" src="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fgithub-mark-white.5a209dae.png&amp;w=48&amp;q=75"></a></span></div></footer></div></div><script src="/_next/static/chunks/react-refresh.js?ts=1680582085060"></script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blog":["Use ChatGPT to create python script  to add meta-data to a markdown documents","git_cheatsheet","github_flavoured_markdown","javascript_cheatsheet","mdx_frontmatter","postgresql_cheatsheet_admin","postgresql_cheatsheet_install","postgresql_cheatsheet_user","quick_shell","raisonit_naming_convention","rysnc_file_copy","shell_configuration","wait_what_am_I_doing"]},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"postgresql_cheatsheet_install"},"buildId":"development","isFallback":false,"gsp":true,"scriptLoader":[]}</script><div id="__next-build-watcher" style="position: fixed; bottom: 10px; right: 20px; width: 0px; height: 0px; z-index: 99999;"></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer></body>
        </body>          
</html>
