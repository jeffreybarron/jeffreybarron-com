---
modified: 2023-04-09 13:26
modifiedTs: 1680965654226  
created: 2023-04-09 00:54
createdTs: 1680965654226  
layout: MDXLayout  
route: /articles  
slug: shell-configuration
ext: .mdx
title: Shell Configuration  
summary: Configuration instructions, gists and one liners for configuring the shell
image: /articles/images/bash-shell-hero-1.png
authors: [Jeffrey Barron] 
tags: [shell, configuration] 
---

---

## What Shell Am I Using?

Since Catalina, Zsh is the default shell.  
Use `ps` to check which shell is currently running.

```shell
ps -p $$
```

## Shell Path Reference

| Shell |    Location |      Login Config | Interactive Config |
| ----: | ----------: | ----------------: | -----------------: |
|  Bash | `/bin/bash` | `~/.bash_profile` |        `~/.bashrc` |
|   Zsh |  `/bin/zsh` |     `~/.zprofile` |         `~/.zshrc` |

### This Super Helpful Explanation of Shell Configuration

[^1] When you login (type username and password) via console, either sitting at the machine, or remotely via `ssh: .bash_profile` is executed to configure your shell before the initial command prompt.  
But, if you’ve already logged into your machine and open a new terminal window (xterm) then `.bashrc` is executed before the window command prompt. `.bashrc` is also run when you start a new bash instance by typing `/bin/bash` in a terminal.  
On OS X, Terminal by default runs a login shell `every time`, so this is a little different to most other systems, but you can configure that in the preferences.

**and this**

[^2] A login shell is the first process that executes under your user ID when you log in for an interactive session. The login process tells the shell to behave as a login shell with a convention: passing argument 0, which is normally the name of the shell executable, with a `-` character prepended (e.g. `-bash` whereas it would normally be `bash`.  

Login shells typically read a file that does things like setting environment variables: `/etc/profile` and `~/.profile` for the traditional Bourne shell, `~/.bash_profile` additionally for bash†, `/etc/zprofile` and `~/.zprofile` for zsh†, `/etc/csh.login` and `~/.login` for csh, etc.  
When you log in on a text console, or through SSH, or with `su -`, you get an __interactive login__ shell. When you log in in graphical mode (on an X display manager), you don't get a login shell, instead you get a session manager or a window manager.  

It's rare to run a __non-interactive login__ shell, but some X settings do that when you log in with a display manager, so as to arrange to read the profile files. Other settings (this depends on the distribution and on the display manager) read `/etc/profile` and `~/.profile` explicitly, or don't read them. Another way to get a non-interactive login shell is to log in remotely with a command passed through standard input which is not a terminal, e.g. `ssh example.com <my-script-which-is-stored-locally` (as opposed to `ssh example.com my-script-which-is-on-the-remote-machine`, which runs a non-interactive, non-login shell).  

When you start a shell in a terminal in an existing session (screen, X terminal, Emacs terminal buffer, a shell inside another, etc.), you get an __interactive, non-login__ shell. That shell might read a shell configuration file (`~/.bashrc` for bash invoked as bash, `/etc/zshrc` and `~/.zshrc` for zsh, `/etc/csh.cshrc` and `~/.cshrc` for csh, the file indicated by the `ENV` variable for POSIX/XSI-compliant shells such as dash, ksh, and bash when invoked as `sh`, `$ENV` if set and `~/.mkshrc` for mksh, etc.).  

When a shell runs a script or a command passed on its command line, it's a __non-interactive, non-login__ shell. Such shells run all the time: it's very common that when a program calls another program, it really runs a tiny script in a shell to invoke that other program. Some shells read a startup file in this case (bash runs the file indicated by the `BASH_ENV` variable, zsh runs `/etc/zshenv` and `~/.zshenv`), but this is risky: the shell can be invoked in all sorts of contexts, and there's hardly anything you can do that might not break something.

<br /><hr />

## References

[^1]: [Stack Exchange 51036](https://apple.stackexchange.com/questions/51036/what-is-the-difference-between-bash-profile-and-bashrc/51038#51038)

[^2]:  

    [Stack Exchange #38175](https://unix.stackexchange.com/questions/38175/difference-between-login-shell-and-non-login-shell/46856#46856)  
    by [Stack User 885](https://unix.stackexchange.com/users/885/gilles-so-stop-being-evil)
